{"is_source_file": true, "format": "JavaScript", "description": "Source code for ExpenseController class in a Node.js backend, handling CRUD operations and other functionalities for expenses, utilizing an expenseService module.", "external_files": ["../services/expense"], "external_methods": ["expenseService.createExpense", "expenseService.getExpenses", "expenseService.getExpenseById", "expenseService.updateExpense", "expenseService.deleteExpense", "expenseService.getCategories", "expenseService.getExpenseStats"], "published": ["ExpenseController"], "classes": [{"name": "ExpenseController", "description": "Controller class managing expense-related API endpoints, including creating, retrieving, updating, deleting expenses, and fetching categories and statistics."}], "methods": [{"name": "createExpense(req, res)", "description": "Handles the creation of a new expense, extracts userId and expense data from request, calls expenseService to create expense, and returns success or error response.", "scope": "ExpenseController", "scopeKind": "class"}, {"name": "getExpenses(req, res)", "description": "Retrieves expenses with filtering, pagination, and sorting options, calls expenseService to fetch expenses, and returns list with pagination info.", "scope": "ExpenseController", "scopeKind": "class"}, {"name": "getExpenseById(req, res)", "description": "Fetches a specific expense by ID for the authenticated user, returns expense data or error if not found.", "scope": "ExpenseController", "scopeKind": "class"}, {"name": "updateExpense(req, res)", "description": "Updates an existing expense identified by ID, using provided expense data, and returns the updated expense or error.", "scope": "ExpenseController", "scopeKind": "class"}, {"name": "deleteExpense(req, res)", "description": "Deletes an expense by ID for the authenticated user, returns success message or error.", "scope": "ExpenseController", "scopeKind": "class"}, {"name": "getCategories(req, res)", "description": "Retrieves expense categories available for the user.", "scope": "ExpenseController", "scopeKind": "class"}, {"name": "getStats(req, res)", "description": "Fetches expense statistics for the user.", "scope": "ExpenseController", "scopeKind": "class"}], "calls": ["expenseService.createExpense", "expenseService.getExpenses", "expenseService.getExpenseById", "expenseService.updateExpense", "expenseService.deleteExpense", "expenseService.getCategories", "expenseService.getExpenseStats"], "search-terms": ["ExpenseController", "expenseService", "createExpense", "getExpenses", "getExpenseById", "updateExpense", "deleteExpense", "categories", "statistics"], "state": 2, "file_id": 22, "knowledge_revision": 46, "git_revision": "", "ctags": [{"_type": "tag", "name": "ExpenseController", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^class ExpenseController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^        category: req.query.category,$/", "language": "JavaScript", "kind": "property", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class"}, {"_type": "tag", "name": "createExpense", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^  async createExpense(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ExpenseController", "scopeKind": "class"}, {"_type": "tag", "name": "deleteExpense", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^  async deleteExpense(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ExpenseController", "scopeKind": "class"}, {"_type": "tag", "name": "endDate", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^        endDate: req.query.endDate,$/", "language": "JavaScript", "kind": "property", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class"}, {"_type": "tag", "name": "expenseService", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^const expenseService = require('..\\/services\\/expense');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^module.exports = new ExpenseController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "getCategories", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^  async getCategories(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ExpenseController", "scopeKind": "class"}, {"_type": "tag", "name": "getExpenseById", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^  async getExpenseById(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ExpenseController", "scopeKind": "class"}, {"_type": "tag", "name": "getExpenses", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^  async getExpenses(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ExpenseController", "scopeKind": "class"}, {"_type": "tag", "name": "getStats", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^  async getStats(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ExpenseController", "scopeKind": "class"}, {"_type": "tag", "name": "limit", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^        limit: parseInt(req.query.limit) || 10,$/", "language": "JavaScript", "kind": "property", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class"}, {"_type": "tag", "name": "options", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^      const options = {$/", "language": "JavaScript", "kind": "class", "scope": "ExpenseController.getExpenses", "scopeKind": "class"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^        page: parseInt(req.query.page) || 1,$/", "language": "JavaScript", "kind": "property", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^        search: req.query.search$/", "language": "JavaScript", "kind": "property", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class"}, {"_type": "tag", "name": "sortBy", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^        sortBy: req.query.sortBy || 'date',$/", "language": "JavaScript", "kind": "property", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class"}, {"_type": "tag", "name": "sortOrder", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^        sortOrder: req.query.sortOrder || 'desc',$/", "language": "JavaScript", "kind": "property", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class"}, {"_type": "tag", "name": "startDate", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^        startDate: req.query.startDate,$/", "language": "JavaScript", "kind": "property", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class"}, {"_type": "tag", "name": "updateExpense", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/controllers/expense.js", "pattern": "/^  async updateExpense(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "ExpenseController", "scopeKind": "class"}], "hash": "ecfcd2423f43bb28baa4cbeaf046db05", "format-version": 4, "code-base-name": "expense_tracker_backend", "filename": "expense_tracker_backend/src/controllers/expense.js", "fields": [{"name": "category: req.query.category,", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class", "description": "unavailable"}, {"name": "endDate: req.query.endDate,", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = new ExpenseController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "limit: parseInt(req.query.limit) || 10,", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class", "description": "unavailable"}, {"name": "page: parseInt(req.query.page) || 1,", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class", "description": "unavailable"}, {"name": "search: req.query.search", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class", "description": "unavailable"}, {"name": "sortBy: req.query.sortBy || 'date',", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class", "description": "unavailable"}, {"name": "sortOrder: req.query.sortOrder || 'desc',", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class", "description": "unavailable"}, {"name": "startDate: req.query.startDate,", "scope": "ExpenseController.getExpenses.options", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"46": ""}]}