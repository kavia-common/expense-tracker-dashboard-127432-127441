{"is_source_file": true, "format": "JavaScript", "description": "This file defines the ExpenseService class, providing methods for managing expenses in an expense tracker backend, including creation, retrieval, update, deletion, and statistics aggregation.", "external_files": ["./database"], "external_methods": ["database.run", "database.get", "database.all"], "published": ["ExpenseService"], "classes": [{"name": "ExpenseService", "description": "Provides backend operations for managing user expenses, including CRUD operations, filtering, sorting, and statistics generation."}], "methods": [{"name": "createExpense(userId, expenseData)", "description": "Creates a new expense record in the database for a specified user.", "scope": "ExpenseService", "scopeKind": "class"}, {"name": "getExpenses(userId, options = {})", "description": "Retrieves a paginated list of expenses for a user, supporting filtering by category, date range, search terms, and sorting options.", "scope": "ExpenseService", "scopeKind": "class"}, {"name": "getExpenseById", "description": "Fetches a specific expense by its ID, verifying it belongs to the user."}, {"name": "updateExpense", "description": "Updates an existing expense record, ensuring it belongs to the user."}, {"name": "deleteExpense", "description": "Deletes an expense record if it belongs to the user."}, {"name": "getCategories", "description": "Gets a list of distinct expense categories for a user."}, {"name": "getExpenseStats", "description": "Returns aggregated expense statistics, including monthly spending by category and recent trend."}], "calls": ["database.run", "database.get", "database.all"], "search-terms": ["ExpenseService class", "expense backend", "expenses CRUD", "expenses statistics", "filter expenses", "sort expenses", "expense categories", "expense creation"], "state": 2, "file_id": 17, "knowledge_revision": 35, "git_revision": "", "ctags": [{"_type": "tag", "name": "ExpenseService", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^class ExpenseService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "categories", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^      const categories = await database.all($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "console", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^      console.error('Error getting expenses:', error);$/", "language": "JavaScript", "kind": "field", "scope": "ExpenseService", "scopeKind": "class"}, {"_type": "tag", "name": "createExpense", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^  async createExpense(userId, expenseData) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, expenseData)", "scope": "ExpenseService", "scopeKind": "class"}, {"_type": "tag", "name": "database", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^const database = require('.\\/database');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^      throw error;$/", "language": "JavaScript", "kind": "field", "scope": "ExpenseService", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^    } catch (error) {$/", "language": "JavaScript", "kind": "field", "scope": "ExpenseService", "scopeKind": "class"}, {"_type": "tag", "name": "expense", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^      const expense = await database.get($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^module.exports = new ExpenseService();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "getExpenses", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^  async getExpenses(userId, options = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(userId, options = {})", "scope": "ExpenseService", "scopeKind": "class"}, {"_type": "tag", "name": "monthlyByCategory", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^      const monthlyByCategory = await database.all(`$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "recentTrend", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^      const recentTrend = await database.all(`$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^      const result = await database.run($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "throw", "path": "/home/kavia/workspace/code-generation/expense-tracker-dashboard-127432-127441/expense_tracker_backend/src/services/expense.js", "pattern": "/^      throw error;$/", "language": "JavaScript", "kind": "field", "scope": "ExpenseService", "scopeKind": "class"}], "hash": "ed83edbbb4aba741ec29f132ba0fc6f8", "format-version": 4, "code-base-name": "expense_tracker_backend", "filename": "expense_tracker_backend/src/services/expense.js", "fields": [{"name": "console.error('Error getting expenses:', error);", "scope": "ExpenseService", "scopeKind": "class", "description": "unavailable"}, {"name": "throw error;", "scope": "ExpenseService", "scopeKind": "class", "description": "unavailable"}, {"name": "} catch (error) {", "scope": "ExpenseService", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = new ExpenseService();", "scope": "module", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"35": ""}]}